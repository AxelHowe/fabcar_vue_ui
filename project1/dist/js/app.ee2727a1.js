(function(e){function t(t){for(var a,i,c=t[0],l=t[1],n=t[2],m=0,h=[];m<c.length;m++)i=c[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&h.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(h.length)h.shift()();return o.push.apply(o,n||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,c=1;c<r.length;c++){var l=r[c];0!==s[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},s={app:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var n=0;n<c.length;n++)t(c[n]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"046c":function(e,t,r){},"0ed7":function(e,t,r){},1550:function(e,t,r){e.exports=r.p+"img/3.7035be3b.svg"},"1b42":function(e,t,r){e.exports=r.p+"img/fabric.97719d99.png"},"229f":function(e,t,r){},"251c":function(e,t,r){},"3e23":function(e,t,r){e.exports=r.p+"img/1.a7180db1.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-link",{attrs:{to:"/allorders"}}),r("router-view")],1)},o=[],i={name:"app",data:function(){return{user_name:"User",page_name:"yyyy"}}},c=i,l=r("2877"),n=Object(l["a"])(c,s,o,!1,null,null,null),u=n.exports,m=r("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"placeorder"},[r("div",{staticClass:"banner"},[r("el-button",{staticClass:"new_butt",staticStyle:{cursor:"pointer"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.newOrder()}}},[e._v("清空資料")]),r("div",{staticClass:"progress"},[r("el-button",{attrs:{type:"text",id:"1"},on:{click:function(t){return e.changeStatus(1)}}},[e._v("新建訂單")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"2"},on:{click:function(t){return e.changeStatus(2)}}},[e._v("供應商簽署")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"3"},on:{click:function(t){return e.changeStatus(3)}}},[e._v("供應商交貨")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"4"},on:{click:function(t){return e.changeStatus(4)}}},[e._v("中心廠驗貨")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"5"},on:{click:function(t){return e.changeStatus(5)}}},[e._v("中心廠確認交貨")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"6"},on:{click:function(t){return e.changeStatus(6)}}},[e._v("供應商發票開立")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"7"},on:{click:function(t){return e.changeStatus(7)}}},[e._v("中心廠確認發票開立")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"8"},on:{click:function(t){return e.changeStatus(8)}}},[e._v("中心廠確認訂單完成")])],1),r("h4",{staticClass:"greeting"},[e._v("Hello, "+e._s(e.user_name))]),r("div",{staticClass:"account"},[r("el-dropdown",[r("el-button",{attrs:{type:"primary"}},[e._v(" 我的帳號"),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[e._v("所有訂單")]),r("el-dropdown-item",[e._v("帳號管理")])],1)],1)],1)],1),r("div",{staticClass:"input"},[r("el-form",{ref:"form",staticStyle:{height:"690px",overflow:"auto",scroll:"auto"},attrs:{model:e.form,rules:e.rule,"label-width":"130px",size:"mini"}},[r("div",{staticClass:"info"},[r("h2",[e._v("訂單資訊")]),r("div",{staticClass:"list"},[r("el-form-item",{attrs:{label:"訂單編號",prop:"key"}},[r("el-input",{attrs:{id:"a1"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),r("el-form-item",{attrs:{label:"流程狀態",prop:"process"}},[r("el-input",{attrs:{id:"a2"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),r("el-form-item",{attrs:{label:"交貨急迫性",prop:"urgent"}},[r("el-input",{attrs:{id:"a3"},model:{value:e.form.urgent,callback:function(t){e.$set(e.form,"urgent",t)},expression:"form.urgent"}})],1),r("el-form-item",{attrs:{label:"訂單日期",prop:"odate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:"a4",clearable:!1},model:{value:e.form.odate,callback:function(t){e.$set(e.form,"odate",t)},expression:"form.odate"}})],1),r("el-form-item",{attrs:{label:"預交日期",prop:"ddate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:"a5",clearable:!1},model:{value:e.form.ddate,callback:function(t){e.$set(e.form,"ddate",t)},expression:"form.ddate"}})],1),r("el-form-item",{attrs:{label:"採購人員",prop:"purchase"}},[r("el-input",{attrs:{id:"a6"},model:{value:e.form.purchase,callback:function(t){e.$set(e.form,"purchase",t)},expression:"form.purchase"}})],1),r("el-form-item",{attrs:{label:"供應商代號",prop:"sname"}},[r("el-input",{attrs:{id:"a7"},model:{value:e.form.sname,callback:function(t){e.$set(e.form,"sname",t)},expression:"form.sname"}})],1),r("el-form-item",{attrs:{label:"供應商名稱",prop:"supplier"}},[r("el-input",{attrs:{id:"a8"},model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}})],1),r("el-form-item",{attrs:{label:"供應商簽署人員",prop:"signer"}},[r("el-input",{attrs:{id:"a9"},model:{value:e.form.signer,callback:function(t){e.$set(e.form,"signer",t)},expression:"form.signer"}})],1)],1),r("div",{staticClass:"book"},[r("el-form-item",{attrs:{label:"採購品名",prop:"pname"}},[r("el-input",{attrs:{id:"a10"},model:{value:e.form.pname,callback:function(t){e.$set(e.form,"pname",t)},expression:"form.pname"}})],1),r("el-form-item",{attrs:{label:"採購數量",prop:"pquantity"}},[r("el-input",{attrs:{id:"a11"},model:{value:e.form.pquantity,callback:function(t){e.$set(e.form,"pquantity",t)},expression:"form.pquantity"}})],1),r("el-form-item",{attrs:{label:"採購單價",prop:"price"}},[r("el-input",{attrs:{id:"a12"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),r("el-form-item",{attrs:{label:"總金額"}},[r("span",[e._v(e._s(this.form.price*this.form.pquantity))])]),r("el-form-item",{attrs:{label:"備註",prop:"note"}},[r("el-input",{attrs:{type:"textarea",rows:"11","show-word-limit":"",id:"a13"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1)]),r("div",{staticClass:"deliverOrder"},[r("h2",[e._v("交貨單")]),r("el-form-item",{attrs:{label:"交貨日期",prop:"sdate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:"b1",clearable:!1},model:{value:e.form.sdate,callback:function(t){e.$set(e.form,"sdate",t)},expression:"form.sdate"}})],1),r("el-form-item",{attrs:{label:"交貨數量",prop:"amount"}},[r("el-input",{attrs:{id:"b2"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),r("el-form-item",{attrs:{label:"交貨備註",prop:"snote"}},[r("el-input",{attrs:{id:"b3"},model:{value:e.form.snote,callback:function(t){e.$set(e.form,"snote",t)},expression:"form.snote"}})],1)],1),r("div",{staticClass:"inspect"},[r("h2",[e._v("驗貨單")]),r("el-form-item",{attrs:{label:"驗貨日期",prop:"bdate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:"c1",clearable:!1},model:{value:e.form.bdate,callback:function(t){e.$set(e.form,"bdate",t)},expression:"form.bdate"}})],1),r("el-form-item",{attrs:{label:"驗貨數量",prop:"c_amount"}},[r("el-input",{attrs:{id:"c2"},model:{value:e.form.c_amount,callback:function(t){e.$set(e.form,"c_amount",t)},expression:"form.c_amount"}})],1),r("el-form-item",{attrs:{label:"不良品數量",prop:"bad"}},[r("el-input",{attrs:{id:"c3"},model:{value:e.form.bad,callback:function(t){e.$set(e.form,"bad",t)},expression:"form.bad"}})],1),r("el-form-item",{attrs:{label:"不良品備註",prop:"bnote"}},[r("el-input",{attrs:{id:"c4"},model:{value:e.form.bnote,callback:function(t){e.$set(e.form,"bnote",t)},expression:"form.bnote"}})],1)],1),r("div",{staticClass:"deliverInfo"},[r("h2",[e._v("交易資訊")]),r("el-form-item",{attrs:{label:"已交貨總數"}},[r("span",[e._v(e._s(this.form.cvolume-this.form.sbad))])]),r("el-form-item",{attrs:{label:"已驗貨總數"}},[r("span",[e._v(e._s(this.form.cvolume))])]),r("el-form-item",{attrs:{label:"不良品總數"}},[r("span",[e._v(e._s(this.form.sbad))])]),r("el-form-item",{attrs:{label:"未交貨總數"}},[r("span",[e._v(e._s(this.form.pquantity-(this.form.cvolume-this.form.sbad)))])])],1),r("div",{staticClass:"invoice"},[r("h2",[e._v("發票資訊")]),r("el-form-item",{attrs:{label:"發票日期",prop:"idate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:"f1",clearable:!1},model:{value:e.form.idate,callback:function(t){e.$set(e.form,"idate",t)},expression:"form.idate"}})],1),r("el-form-item",{attrs:{label:"發票號碼",prop:"invoice"}},[r("el-input",{attrs:{id:"f2"},model:{value:e.form.invoice,callback:function(t){e.$set(e.form,"invoice",t)},expression:"form.invoice"}})],1),r("el-form-item",{attrs:{label:"備註",prop:"inote"}},[r("el-input",{attrs:{id:"f3"},model:{value:e.form.inote,callback:function(t){e.$set(e.form,"inote",t)},expression:"form.inote"}})],1)],1),r("el-form-item",{staticClass:"send"},[r("el-button",{attrs:{type:"primary",disabled:e.checkDisable.check7},on:{click:function(t){return e.onSubmit()}}},[e._v("儲存訂單")]),r("el-button",{attrs:{disabled:e.checkDisable.check8},on:{click:function(t){return e.cancel()}}},[e._v("取消更改")])],1),r("div",{staticClass:"checkbox"},[r("h2",[e._v("訂單流程")]),r("el-checkbox",{attrs:{id:"e1",disabled:e.checkDisable.check1},model:{value:e.form.oestablished,callback:function(t){e.$set(e.form,"oestablished",t)},expression:"form.oestablished"}},[e._v("訂單接受")]),r("el-checkbox",{attrs:{id:"e2",disabled:e.checkDisable.check2},model:{value:e.form.ocargo,callback:function(t){e.$set(e.form,"ocargo",t)},expression:"form.ocargo"}},[e._v("交貨完成")]),r("el-checkbox",{attrs:{id:"e3",disabled:e.checkDisable.check3},model:{value:e.form.ccargo,callback:function(t){e.$set(e.form,"ccargo",t)},expression:"form.ccargo"}},[e._v("確認交貨完成")]),r("br"),r("el-checkbox",{attrs:{id:"e4",disabled:e.checkDisable.check4},model:{value:e.form.bill,callback:function(t){e.$set(e.form,"bill",t)},expression:"form.bill"}},[e._v("發票開立")]),r("el-checkbox",{attrs:{id:"e5",disabled:e.checkDisable.check5},model:{value:e.form.cbill,callback:function(t){e.$set(e.form,"cbill",t)},expression:"form.cbill"}},[e._v("確認發票開立")]),r("el-checkbox",{attrs:{id:"e6",disabled:e.checkDisable.check6},model:{value:e.form.finish,callback:function(t){e.$set(e.form,"finish",t)},expression:"form.finish"}},[e._v("訂單完成")])],1)],1)],1),r("div",{staticClass:"menu"},[r("el-menu",{staticClass:"el-menu-vertical-demo undone",staticStyle:{height:"41%",overflow:"auto",scroll:"auto"},attrs:{"default-active":"1"}},[r("el-submenu",{attrs:{index:"100"}},[r("template",{slot:"title"},[e._v("未完成訂單")]),e._l(e.undone,(function(t,a){return r("el-submenu",{key:a,attrs:{index:String(a)}},[r("template",{slot:"title"},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showCurrentHistory(t)}}},[e._v("訂單"+e._s(t.key))])],1),r("el-timeline",{staticStyle:{height:"150px",overflow:"auto",scroll:"auto"}},e._l(t.Historys,(function(t,a){return r("el-timeline-item",{key:a,attrs:{timestamp:e.showWhichOne(t.Report.process)}},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showUndoneHistory(t.Report)}}},[e._v(e._s(t.Report.process))])],1)})),1)],2)}))],2)],1),r("el-input",{staticClass:"find",attrs:{placeholder:"搜尋訂單","prefix-icon":"el-icon-search",clearable:""},model:{value:e.find,callback:function(t){e.find=t},expression:"find"}}),r("el-menu",{staticClass:"el-menu-vertical-demo done",staticStyle:{height:"45%"},attrs:{"default-active":"2"}},[r("el-submenu",{attrs:{index:"200"}},[r("template",{slot:"title"},[e._v("已完成訂單")]),e._l(e.done,(function(t,a){return r("el-submenu",{key:a,attrs:{index:String(a)}},[r("template",{slot:"title"},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showCurrentHistory(t)}}},[e._v("訂單"+e._s(t.key))])],1),r("el-timeline",{staticStyle:{height:"150px",overflow:"auto",scroll:"auto"}},e._l(t.Historys,(function(t,a){return r("el-timeline-item",{key:a,attrs:{timestamp:e.showWhichOne(t.Report.process)}},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showDoneHistory(t.Report)}}},[e._v(e._s(t.Report.process))])],1)})),1)],2)}))],2)],1)],1),r("router-view")],1)},d=[],p=r("c7eb"),f=r("1da1"),b=(r("d3b7"),r("159b"),r("7db0"),r("ac1f"),r("466d"),r("5319"),r("1276"),r("4d90"),{name:"placeorder",data:function(){return{checkDisable:{check1:!1,check2:!1,check3:!1,check4:!1,check5:!1,check6:!1,check7:!1,check8:!1},temp:0,count:1,after:"",find:"",url:"/createReports",proStatus:0,process:"",role:localStorage.getItem("role"),user_name:localStorage.getItem("username"),rule:{},form:{key:"",process:"",urgent:"",odate:"",ddate:"",purchase:"",sname:"",supplier:"",signer:"",pname:"",pquantity:"",price:"",note:"",sdate:"",amount:"",snote:"",bdate:"",c_amount:"",bad:"",bnote:"",idate:"",invoice:"",inote:"",volume:0,cvolume:0,sbad:0,ntraded:0,oestablished:!1,ocargo:!1,ccargo:!1,bill:!1,cbill:!1,finish:!1},done:[{key:"A1210",process:"簽署成功",urgent:"無",odate:"2022-02-02",ddate:"2022-05-05",purchase:"Tom",sname:"Ed-001",supplier:"Thinktek",signer:"Larry",invoice:"",pname:"螺絲",pquantity:"100",price:"0.5",sdate:"2022-03-30",amount:"0",bad:"",bnote:"",sbad:"10",volume:"110",ntraded:"0",oestablished:"turn",ocargo:"true",ccargo:"true",bill:"true",cbill:"true",finish:"",note:"無",Historys:null},{key:"A1111",process:"簽署成功",urgent:"無",odate:"2022-02-02",ddate:"2022-05-05",purchase:"Tom",sname:"Ed-001",supplier:"Thinktek",signer:"Larry",invoice:"",pname:"螺絲",pquantity:"100",price:"0.5",sdate:"2022-03-30",amount:"0",bad:"",bnote:"",sbad:"10",volume:"110",ntraded:"0",oestablished:"turn",ocargo:"true",ccargo:"true",bill:"true",cbill:"true",finish:"",note:"無",Historys:null},{key:"A1",process:"簽署成功",urgent:"無",odate:"2022-02-02",ddate:"2022-05-05",purchase:"Tom",sname:"Ed-001",supplier:"Thinktek",signer:"Larry",invoice:"",pname:"螺絲",pquantity:"100",price:"0.5",sdate:"2022-03-30",amount:"0",bad:"",bnote:"",sbad:"10",volume:"110",ntraded:"0",oestablished:"turn",ocargo:"true",ccargo:"true",bill:"true",cbill:"true",finish:"",note:"無",Historys:null}],undone:[{key:"A0",process:"簽署成功",urgent:"無",odate:"2022-02-02",ddate:"2022-05-05",purchase:"Tom",sname:"Ed-001",supplier:"Thinktek",signer:"Larry",invoice:"",pname:"螺絲",pquantity:"100",price:"0.5",sdate:"2022-03-30",amount:"0",bad:"",bnote:"",sbad:"10",volume:"110",ntraded:"0",oestablished:"turn",ocargo:"true",ccargo:"true",bill:"true",cbill:"true",finish:"",note:"無",Historys:null}]}},methods:{showWhichOne:function(e){var t="";return e?"發包中"===e||"簽署成功"===e||"驗貨中"===e||"確認交貨完成"===e?t="供應商":"交貨中"!==e&&"交貨完成"!==e&&"發票開立"!==e||(t="中心廠"):(console.log(e),t="中心廠"),t},showCurrentHistory:function(e){this.form=e;var t=0;"發包中"==e.process&&(t=1),"簽署成功"==e.process&&(t=2),"交貨中"==e.process&&(t=4),"驗貨中"==e.process&&(t=5),"交貨完成"==e.process&&(t=6),"確認交貨完成"==e.process&&(t=7),"發票開立"==e.process&&(t=8),this.changeStatus(t)},showUndoneHistory:function(e){this.form=e;var t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b1","b2","b3","b4","c1","c2","c3","d1","d2","e1","e2","e3","e4","e5","e6"];t.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="background-color: #e6ecf5"})),this.buttonDisabled(10),this.checkDisable.check1=!1,this.checkDisable.check2=!1,this.checkDisable.check3=!1,this.checkDisable.check4=!1,this.checkDisable.check5=!1,this.checkDisable.check6=!1,this.checkDisable.check7=!0,this.checkDisable.check8=!0},showDoneHistory:function(e){this.form=e;var t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b1","b2","b3","b4","c1","c2","c3","d1","d2","d3","e1","e2","e3","e4","e5","e6"];t.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="background-color: #e6ecf5"})),this.buttonDisabled(10),this.checkDisable.check1=!1,this.checkDisable.check2=!1,this.checkDisable.check3=!1,this.checkDisable.check4=!1,this.checkDisable.check5=!1,this.checkDisable.check6=!1,this.checkDisable.check7=!0,this.checkDisable.check8=!0},boolToStr:function(){this.form.oestablished=String(this.form.oestablished),this.form.ocargo=String(this.form.ocargo),this.form.ccargo=String(this.form.ccargo),this.form.bill=String(this.form.bill),this.form.cbill=String(this.form.cbill),this.form.finish=String(this.form.finish)},strToBool:function(e){"true"===e.oestablished?e.oestablished=!0:e.oestablished=!1,"true"===e.ocargo?e.ocargo=!0:e.ocargo=!1,"true"===e.ccargo?e.ccargo=!0:e.ccargo=!1,"true"===e.bill?e.bill=!0:e.bill=!1,"true"===e.cbill?e.cbill=!0:e.cbill=!1,"true"===e.finish?e.finish=!0:e.finish=!1},newOrder:function(){this.form={key:"",process:"",urgent:"",odate:"",ddate:"",purchase:"",sname:"",supplier:"",signer:"",pname:"",pquantity:"",price:"",note:"",sdate:"",amount:"",snote:"",bdate:"",c_amount:"",bad:"",bnote:"",idate:"",invoice:"",inote:"",volume:"",cvolume:"",sbad:"",ntraded:"",oestablished:!1,ocargo:!1,ccargo:!1,bill:!1,cbill:!1,finish:!1},this.changeStatus(0),this.url="createReports"},selectRole:function(){var e=[];"order"===this.role?e=["2","3","5","7"]:"supplier"===this.role&&(e=["1","4","6","8","9"]),e.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="color: rgb(172, 196, 227); cursor:not-allowed;"}))},changeStatus:function(e){var t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","b1","b2","b3","c1","c2","c3","c4","e1","e2","e3","e4","e5","e6","f1","f2","f3"];this.checkDisable.check1=!1,this.checkDisable.check2=!1,this.checkDisable.check3=!1,this.checkDisable.check4=!1,this.checkDisable.check5=!1,this.checkDisable.check6=!1,this.checkDisable.check7=!1,this.checkDisable.check8=!1,t.forEach((function(e){document.getElementById(e).disabled=!1,document.getElementById(e).style="background-color:transparent"}));var r=["1","2","3","4","5","6","7","8"];r.forEach((function(e){document.getElementById(e).disabled=!1,document.getElementById(e).style="color:rgb(61, 119, 173); cursor:pointer;"})),this.initStatus(e),this.buttonDisabled(e),this.changeAPI(e)},initStatus:function(e){var t=[];this.selectRole(),1==e?(t=["a1","a2","a9","b1","b2","b3","c1","c2","c3","c4","e1","e2","e3","e4","e5","e6","f1","f2","f3"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={urgent:[{required:!0,message:"欄位不可為空！"}],odate:[{required:!0,message:"欄位不可為空！"}],ddate:[{required:!0,message:"欄位不可為空！"}],purchase:[{required:!0,message:"欄位不可為空！"}],sname:[{required:!0,message:"欄位不可為空！"}],supplier:[{required:!0,message:"欄位不可為空！"}],pname:[{required:!0,message:"欄位不可為空！"}],pquantity:[{required:!0,message:"欄位不可為空！"}],price:[{required:!0,message:"欄位不可為空！"}],note:[{required:!0,message:"欄位不可為空！"}]}):2==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a10","a11","a12","b1","b2","b3","c1","c2","c3","c4","e2","e3","e4","e5","e6","f1","f2","f3"],this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={signer:[{required:!0,message:"欄位不可為空！"}],note:[{required:!0,message:"欄位不可為空！"}]}):3==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","c1","c2","c3","c4","e1","e2","e3","e4","e5","e6","f1","f2","f3"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={note:[{required:!0,message:"欄位不可為空！"}],sdate:[{required:!0,message:"欄位不可為空！"}],amount:[{required:!0,message:"欄位不可為空！"}],snote:[{required:!0,message:"欄位不可為空！"}]}):4==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","b1","b2","b3","e1","e2","e4","e5","e6","f1","f2","f3"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={note:[{required:!0,message:"欄位不可為空！"}],bdate:[{required:!0,message:"欄位不可為空！"}],c_amount:[{required:!0,message:"欄位不可為空！"}],bad:[{required:!0,message:"欄位不可為空！"}],bnote:[{required:!0,message:"欄位不可為空！"}],ccargo:[{required:!0,message:"欄位不可為空！"}]}):5==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","b1","b2","b3","c1","c2","c3","c4","e1","e3","e4","e5","e6","f1","f2","f3"],this.checkDisable.check1=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={note:[{required:!0,message:"欄位不可為空！"}],ocargo:[{required:!0,message:"欄位不可為空！"}]}):6==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","b1","b2","b3","c1","c2","c3","c4","e1","e2","e3","e5","e6"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={note:[{required:!0,message:"欄位不可為空！"}],idate:[{required:!0,message:"欄位不可為空！"}],invoice:[{required:!0,message:"欄位不可為空！"}],inote:[{required:!0,message:"欄位不可為空！"}],bill:[{required:!0,message:"欄位不可為空！"}]}):7==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","b1","b2","b3","c1","c2","c3","c4","e1","e2","e3","e4","e6","f1","f2","f3"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check6=!0,this.rule={note:[{required:!0,message:"欄位不可為空！"}],cbill:[{required:!0,message:"欄位不可為空！"}]}):8==e&&(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","b1","b2","b3","c1","c2","c3","c4","e1","e2","e3","e4","e5","f1","f2","f3"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.rule={note:[{required:!0,message:"欄位不可為空！"}],finish:[{required:!0,message:"欄位不可為空！"}]}),this.$nextTick((function(){this.$refs["form"].clearValidate()})),t.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="background-color:#e6ecf5; border-radius: 5px; cursor:not-allowed;"}))},buttonDisabled:function(e){var t=[];1==e?t=["1"]:2==e?t=["1","2"]:3==e?t=["1","2","3"]:4==e?t=["1","2","3","4"]:5==e?t=["1","2","3","4","5"]:6==e?t=["1","2","3","4","5","6"]:7==e?t=["1","2","3","4","5","6","7"]:8==e&&(t=["1","2","3","4","5","6","7","8"]),t.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="color:gray; cursor:not-allowed;"}))},changeAPI:function(e){1==e?this.url="createReports":2==e?this.url="reports/changeSigner":4==e?this.url="reports/changeSdate":5==e?this.url="reports/changeSbad":6==e?this.url="reports/changeOcargo":7==e?this.url="reports/changeCcargo":8==e?this.url="reports/changeInvoice":9==e?this.url="reports/changeCbill":10==e&&(this.url="reports/Finish")},cancel:function(){var e=confirm("確定要取消更改嗎？");e&&alert("修改已取消")},verifyForm:function(){1===this.state?this.form.key&&this.form.urgent&&this.form.odate&&this.form.ddate&&this.form.purchase&&this.form.sname&&this.form.supplier&&this.form.pname&&this.form.pquantity&&this.form.price&&this.form.note||alert("請填寫完全部欄位！"):2===this.state?this.form.signer&&this.form.note&&0!=this.form.oestablished||alert("請填寫完全部欄位！"):3===this.state?this.form.note&&this.form.sdate&&this.form.amount&&this.form.snote||alert("請填寫完全部欄位！"):4===this.state?this.form.note&&this.form.bdate&&this.form.c_amount&&this.form.bad&&this.form.bnote&&0!=this.form.ccargo||alert("請填寫完全部欄位！"):5===this.state?this.form.note&&0!=this.form.ocargo||alert("請填寫完全部欄位！"):6===this.state?this.form.note&&this.form.idate&&this.form.invoice&&this.form.inote&&0!=this.form.bill||alert("請填寫完全部欄位！"):7===this.state?this.form.note&&0!=this.form.cbill||alert("請填寫完全部欄位！"):8===this.state&&(this.form.note&&0!=this.form.finish||alert("請填寫完全部欄位！"))},onSubmit:function(){this.verifyForm(),this.packagePostData()},packageGetData:function(){var e=this;return Object(f["a"])(Object(p["a"])().mark((function t(){var r,a,s,o;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.done=[],e.undone=[],r="reports",a={username:e.user_name},t.next=6,e.$POST(r,a);case 6:for(o in s=t.sent,console.log(s),s.report)console.log(o),e.strToBool(s.report[o]),!0===s.report[o].finish?e.done.push(s.report[o]):e.undone.push(s.report[o]);case 9:case"end":return t.stop()}}),t)})))()},packagePostData:function(){var e=this;return Object(f["a"])(Object(p["a"])().mark((function t(){var r,a,s;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$loading({lock:!0,text:"訂單儲存中",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"}),console.log(r),a={username:e.user_name,report:e.form},e.boolToStr(),t.next=6,e.$POST(e.url,a);case 6:s=t.sent,console.log("res: "+s),1==s.status&&(r.close(),alert("訂單儲存成功！")),e.packageGetData();case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.packageGetData()},mounted:function(){this.selectRole()},watch:{find:function(){0===this.temp&&(this.after=this.done,this.temp++);var e=[];if(this.find){for(var t=0;t<this.after.length;t++)null!=this.after[t].key.match(this.find)&&e.push(this.after[t]);this.done=e}else this.done=this.after},url:function(){if("createReports"===this.url){var e=new Date;e=e.toISOString().split("T")[0].replace("-","").replace("-","");var t=e+String(this.count).padStart(3,"0");this.form.key=t,this.count++}}}}),k=b,v=(r("df60"),Object(l["a"])(k,h,d,!1,null,"3230462c",null)),g=v.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"allorders"}},[r("router-link",{staticClass:"link",attrs:{to:"/placeOrder"}},[r("el-button",{attrs:{icon:"el-icon-plus",circle:""}})],1),r("router-view"),r("div",{staticClass:"banner"},[r("h2",[e._v("所有訂單")]),r("h4",{staticClass:"greeting"},[e._v("Hello, "+e._s(e.user_name))]),r("div",{staticClass:"account"},[r("el-dropdown",[r("el-button",{attrs:{type:"primary"}},[e._v(" 我的帳號"),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[e._v("所有訂單")]),r("el-dropdown-item",[e._v("帳號管理")])],1)],1)],1)]),r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首頁")]),r("el-breadcrumb-item",[e._v("所有訂單")])],1),r("el-collapse",{attrs:{accordion:""}},[r("h4",[e._v("尚未完成訂單")]),r("el-button",{attrs:{type:"text"}},[e._v("訂單1")]),r("el-button",{attrs:{type:"text"}},[e._v("訂單2")]),r("el-button",{attrs:{type:"text"}},[e._v("訂單3")]),r("h4",[e._v("已完成訂單")]),r("el-collapse-item",{attrs:{title:"A1",name:"1"}},[r("el-descriptions",{staticClass:"margin-top",attrs:{column:3,size:e.size,border:""}},[r("el-descriptions-item",[r("template",{slot:"label"},[r("i",{staticClass:"el-icon-user"}),e._v(" 用户名 ")]),e._v(" kooriookami ")],2),r("el-descriptions-item",[r("template",{slot:"label"},[r("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 手机号 ")]),e._v(" 18100000000 ")],2)],1)],1),r("el-collapse-item",{attrs:{title:"A2",name:"2"}},[r("el-descriptions",{staticClass:"margin-top",attrs:{column:3,size:e.size,border:""}},[r("el-descriptions-item",[r("template",{slot:"label"},[r("i",{staticClass:"el-icon-user"}),e._v(" 用户名 ")]),e._v(" kooriookami ")],2),r("el-descriptions-item",[r("template",{slot:"label"},[r("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 手机号 ")]),e._v(" 18100000000 ")],2)],1)],1),r("el-collapse-item",{attrs:{title:"A3",name:"3"}},[r("el-descriptions",{staticClass:"margin-top",attrs:{column:3,size:e.size,border:""}},[r("el-descriptions-item",[r("template",{slot:"label"},[r("i",{staticClass:"el-icon-user"}),e._v(" 用户名 ")]),e._v(" kooriookami ")],2),r("el-descriptions-item",[r("template",{slot:"label"},[r("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 手机号 ")]),e._v(" 18100000000 ")],2)],1)],1),r("el-collapse-item",{attrs:{title:"A4",name:"4"}},[r("el-descriptions",{staticClass:"margin-top",attrs:{column:3,size:e.size,border:""}},[r("el-descriptions-item",[r("template",{slot:"label"},[r("i",{staticClass:"el-icon-user"}),e._v(" 用户名 ")]),e._v(" kooriookami ")],2),r("el-descriptions-item",[r("template",{slot:"label"},[r("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 手机号 ")]),e._v(" 18100000000 ")],2)],1)],1)],1),r("div",{staticClass:"search"},[r("h3",[e._v("查詢訂單")]),r("el-select",{attrs:{placeholder:"選擇欄位"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)},_=[],x={name:"home",data:function(){return{info:null,user_name:"User",image:"'/assets/fab.png'",activeName:["1"],options:[{value:"选项1",label:"日期"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}}},w=x,D=(r("e08c"),Object(l["a"])(w,y,_,!1,null,"876f107a",null)),S=D.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("router-view"),r("div",{staticClass:"banner"},[r("img",{staticClass:"logo",staticStyle:{width:"300px"},attrs:{src:e.logo}}),r("router-link",{attrs:{to:"/login"}},[r("el-button",[e._v("登入/註冊")])],1)],1),r("el-carousel",{attrs:{height:"250px"}},e._l(e.title,(function(t,a){return r("el-carousel-item",{key:a},[r("img",{staticStyle:{height:"200px"},attrs:{src:t.svg}}),r("h1",[e._v(e._s(t.text))])])})),1),r("div",{staticClass:"login"},[e._t("default")],2)],1)},$=[],C=r("1b42"),q=r.n(C),j=r("3e23"),E=r.n(j),T=r("89b4"),I=r.n(T),P=r("1550"),B=r.n(P),H={name:"Home",data:function(){return{title:[{svg:E.a,text:"oooooooooooooooo"},{svg:I.a,text:"oooooooooooooooo"},{svg:B.a,text:"oooooooooooooooo"}],logo:q.a}}},R=H,A=(r("6e43"),Object(l["a"])(R,O,$,!1,null,"0ffad7db",null)),z=A.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Home",[r("el-form",{ref:"form",attrs:{size:"mini",model:e.form,"label-width":"60px"}},[r("el-form-item",{attrs:{label:"帳號"}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"密碼"}},[r("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{staticClass:"send"},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submit()}}},[e._v("送出")])],1),r("el-form-item",{staticClass:"regi"},[r("router-link",{attrs:{to:"/register"}},[r("el-button",{staticStyle:{color:"rgb(26, 54, 90)"},attrs:{type:"text"}},[e._v("還沒有帳號嗎？點選這裡")])],1)],1),r("el-form-item",[r("p",{attrs:{id:"hide"}},[e._v("帳號或密碼錯誤！")])])],1)],1)},G=[],U={components:{Home:z},data:function(){return{form:{username:"",password:""}}},methods:{submit:function(){var e=this;return Object(f["a"])(Object(p["a"])().mark((function t(){var r,a,s;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="login",a=e.form,t.next=4,e.$POST(r,a);case 4:s=t.sent,!0===s.status?(localStorage.setItem("username",e.form.username),localStorage.setItem("token",s.token),localStorage.setItem("role",s.role),e.$router.push({path:"/placeorder"})):document.getElementById("hide").style="display: block;";case 6:case"end":return t.stop()}}),t)})))()}}},M=U,F=(r("d727"),Object(l["a"])(M,L,G,!1,null,"4fd04a09",null)),W=F.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",attrs:{size:"medium",model:e.form,"label-width":"100px"}},[r("h2",[e._v("註冊")]),r("el-form-item",{attrs:{label:"請輸入帳號"}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"請輸入密碼"}},[r("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"身份"}},[r("el-radio",{attrs:{label:"supplier"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("供應商")]),r("el-radio",{attrs:{label:"order"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("下單者")])],1),r("el-form-item",{staticClass:"send"},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submit()}}},[e._v("送出")])],1),r("el-form-item",{staticClass:"regi"},[r("router-link",{attrs:{to:"/login"}},[r("el-button",{staticStyle:{color:"rgb(26, 54, 90)"},attrs:{type:"text"}},[e._v("已經有帳號？點選這裡")])],1)],1)],1)},N=[],V={data:function(){return{form:{username:"",password:"",role:""}}},methods:{submit:function(){var e="register",t=this.form,r=this.$POST(e,t);console.log(r),console.log(r.reports),this.GLOBAL.setAccount(this.form.username),this.GLOBAL.setToken(r.token),this.GLOBAL.setRole(r.role),this.$router.push({path:"/placeOrder"})}}},K=V,Q=(r("f498"),Object(l["a"])(K,J,N,!1,null,"f9a5cbe4",null)),X=Q.exports;a["default"].use(m["a"]);var Y=[{path:"/placeorder",name:"PlaceOrder",component:g},{path:"/",name:"Home",component:z},{path:"/allorders",name:"AllOrders",component:S},{path:"/login",name:"Login",component:W},{path:"/register",name:"Register",component:X}],Z=new m["a"]({mode:"history",base:"/",routes:Y}),ee=Z,te=r("5c96"),re=r.n(te),ae=(r("c69f"),r("c87b")),se=r.n(ae);a["default"].use(re.a,{locale:se.a});var oe=r("bc3a"),ie=r.n(oe),ce=r("130e"),le="http://localhost:8080",ne=ie.a.create({baseURL:"".concat(le),headers:{"Content-Type":"application/json",accept:"application/json"}});function ue(e,t){return me.apply(this,arguments)}function me(){return me=Object(f["a"])(Object(p["a"])().mark((function e(t,r){var a;return Object(p["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get(t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),me.apply(this,arguments)}function he(e,t){return de.apply(this,arguments)}function de(){return de=Object(f["a"])(Object(p["a"])().mark((function e(t,r){var a;return Object(p["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.post(t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),de.apply(this,arguments)}function pe(e,t){return fe.apply(this,arguments)}function fe(){return fe=Object(f["a"])(Object(p["a"])().mark((function e(t,r){var a;return Object(p["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.put(t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),fe.apply(this,arguments)}a["default"].prototype.$GET=ue,a["default"].prototype.$POST=he,a["default"].prototype.$PUT=pe,a["default"].config.productionTip=!1,a["default"].use(ce["a"],ie.a),new a["default"]({router:ee,render:function(e){return e(u)}}).$mount("#app")},"6e43":function(e,t,r){"use strict";r("251c")},"89b4":function(e,t,r){e.exports=r.p+"img/2.500d523f.svg"},c69f:function(e,t,r){},d727:function(e,t,r){"use strict";r("def5")},def5:function(e,t,r){},df60:function(e,t,r){"use strict";r("229f")},e08c:function(e,t,r){"use strict";r("0ed7")},f498:function(e,t,r){"use strict";r("046c")}});
//# sourceMappingURL=app.ee2727a1.js.map